{% extends 'layouts/home.html' %}

{% load static %}

{% block contents %}

<div class="main-section">
    <div class="page-section restaurant-detail-image-section" style="background: url({% if vendor.user_profile.cover_photo %} {{ vendor.user_profile.cover_photo.url }} {% else %} {% static 'images/default-cover.png' %} {% endif %}) no-repeat scroll 0 0 / cover;">
        <!-- Container Start -->
        <div class="container">
            <!-- Row Start -->
            <div class="row">
                <!-- Column Start -->
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="company-info-detail">
                        <div class="company-info">
                            <div class="img-holder">
                                <figure>
                                    {% if vendor.user_profile.profile_picture %}
                                    <img src="{{ vendor.user_profile.profile_picture.url }}" alt="">
                                    {% else %}
                                    <img src="{% static 'images/default-profile.png' %}" alt="">
                                    {% endif %}
                                </figure>
                            </div>
                            <div class="text-holder">
                                <span class="restaurant-title">{{ vendor.vendor_name }}</span>
                                <div class="text">
                                    {% if vendor.user_profile.address %}
                                    <i class="icon-location"></i>
                                    <p>{{vendor.user_profile.address}}</p>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="delivery-timing reviews-sortby">
                            <ul>
                                <li>
                                    <a href="#" class="reviews-sortby-active">
                                        <span>Today :</span>
                                        11:00 am - 11:00 pm <i class="icon-chevron-small-down"></i>
                                    </a>
                                    <ul class="delivery-dropdown">
                                        <li><a href="#"><span class="opend-day">Monday</span> <span class="opend-time"><small>:</small> 11:00 am - 11:00
                                                    pm</span></a></li>
                                        <li><a href="#"><span class="opend-day">Tuesday</span> <span class="opend-time"><small>:</small> 11:00 am - 11:00
                                                    pm</span></a></li>
                                        <li><a href="#"><span class="opend-day">Wednesday</span> <span class="opend-time"><small>:</small> 11:00 am - 11:00
                                                    pm</span></a></li>
                                        <li><a href="#"><span class="opend-day">Thursday</span> <span class="opend-time"><small>:</small> 11:00 am - 11:00
                                                    pm</span></a></li>
                                        <li><a href="#"><span class="opend-day">Friday</span> <span class="opend-time"><small>:</small> 11:00 am - 11:00
                                                    pm</span></a></li>
                                        <li><a href="#"><span class="opend-day">Saturday</span> <span class="opend-time"><small>:</small> 11:00 am - 11:00
                                                    pm</span></a></li>
                                        <li><a href="#"><span class="opend-day">Sunday</span> <span class="opend-time close-day"><small>:</small>Closed</span></a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="page-section">
        <div class="container">
            <div class="row">
                {% if not categories  %}
                    <div class="text-center bg-white p-5 col-12 mb-5">
                        <figure>
                            {% if vendor.user_profile.profile_picture %}
                            <img src="{{ vendor.user_profile.profile_picture.url }}" style="height: 100px;" class="rounded">
                            {% else %}
                            <img src="{% static 'images/default-profile.png' %}" style="height: 100px;" class="rounded">
                            {% endif %}
                        </figure>
                        <h1 class="text-info">{{ vendor.vendor_name }}</h1>
                        <p class="text-warning"> The shop has no <b class="text-success">active</b> items right now. Please visite after some while</p>
                    </div>
                {% else %}
                    <div class="col-lg-3 col-md-3 col-sm-4 col-xs-12 sticky-sidebar bg-white">
                        <div class="filter-wrapper">
                            <div class="categories-menu">
                                <h6 class="pt-5 pl-3"><i class="icon-restaurant_menu"></i>Categories</h6>
                                <ul class="menu-list p-3">
                                    {% if not categories %}
                                        <li>
                                            <h4><a class="menu-category-link text-warning"><b>No</b> active Category </a></h4>
                                        </li>
                                    {% else %}
                                        <li>
                                            <h4><a href="{% url "vendor-detail" vendor.slug  %}" class="menu-category-link text-info">All Category items </a></h4>
                                        </li>
                                    {% endif %}
                                    

                                    {% for cat in categories %}
                                        <li class="active">
                                            <h4><a href="{% url "vendor-food-category" vendor.slug cat.slug  %}" class="menu-category-link"> {{ cat }} </a></h4>
                                        </li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-9 col-md-9 col-sm-8 col-xs-12">
                        <div class="tabs-holder horizontal">
                            <ul class="stickynav-tabs nav nav-tabs">
                                <li class="active"><a data-toggle="tab" href="#home"><i class="icon- icon-room_service"></i>Menu</a></li>
                            </ul>
                            <div class="tab-content">
                                <div id="home" class="tab-pane in active">
                                    <div class="menu-itam-holder">
                                        
                                        <div id="menu-item-list-6272" class="menu-itam-list">
                                            
                                            {% for cat in categories %}
                                                {% if cat.fooditems.all|length %}
                                                    <div class="element-title p-3" id="menu-category-2">
                                                        <h5 class="text-color">{{ cat }} </h5>
                                                        <span>{{ cat.description }}</span>
                                                    </div>
                                                {% endif %}
                                                <ul>
                                                    {% for food in cat.fooditems.all %}
                                                        <li class="p-2 bg-light rounded">
                                                            <div class="image-holder"> <img src="{{ food.image.url }}" alt=""></div>
                                                            <div class="text-holder">
                                                                <h6>{{ food }}</h6>
                                                                <span>{{ food.description }}</span>
                                                            </div>
                                                            <div class="price-holder p-2">
                                                                <span class="price">${{ food.price }}</span>

                                                                <a href="javaScript:;" class="decrease_cart" data-id="{{ food.id }}" data-url="{% url 'decrease_cart' food.id %}" style="margin-right: 28px;"><i class="icon-minus text-color"></i></a>
                                                                <label id="qty-{{food.id}}">0</label>
                                                                <a href="javaScript:;" type="button" class="add_to_cart" data-id="{{ food.id }}" data-url="{% url 'add_to_cart' food.id %}"><i class="icon-plus4 text-color"></i></a>
                                                                
                                                            </div>
                                                        </li>
                                                        
                                                    {% endfor %} 

                                                    {% if category and not cat.fooditems.all and forloop.counter == 1 %}
                                                        <div class="element-title p-3">
                                                            <h5 class="text-color"> <b>{{ category.category_name }}</b> </h5>
                                                            <span class="text-warning"> has no <b class="text-success">Active</b> items right now. Please visite after some while</span>
                                                        </div>
                                                    {% endif %}      
                                                </ul>
                                            {% endfor %}  
                                                                        
                                        </div>

                                        {% for item in cart_items %}
                                            <span id="qty-{{item.fooditem.id}}" class="item_qty d-none" data-qty="{{ item.quantity }}">{{ item.quantity }}</span>
                                        {% endfor %}
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock %}